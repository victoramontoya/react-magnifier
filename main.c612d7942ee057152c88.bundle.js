(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{154:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/test-image-small.97785a79.jpg"},155:function(module,exports,__webpack_require__){__webpack_require__(156),__webpack_require__(235),module.exports=__webpack_require__(236)},236:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(18),__webpack_require__(15),__webpack_require__(20);var _storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(54),imports=__webpack_require__(351);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.configure)(function(){imports.keys().forEach(function(filename){return imports(filename)})},module)}.call(this,__webpack_require__(115)(module))},351:function(module,exports,__webpack_require__){var map={"./index.stories.js":352};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){var id=map[req];if(!(id+1)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return id}webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=351},352:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(10),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(54),_lib_Magnifier_es__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(55),_test_image_jpg__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(56),_test_image_jpg__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_test_image_jpg__WEBPACK_IMPORTED_MODULE_3__),_test_image_small_jpg__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(154),_test_image_small_jpg__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_test_image_small_jpg__WEBPACK_IMPORTED_MODULE_4__);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.addDecorator)(function(story){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"100px 0"}},story())}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Magnifier",module).add("Round",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_lib_Magnifier_es__WEBPACK_IMPORTED_MODULE_2__.a,{src:_test_image_jpg__WEBPACK_IMPORTED_MODULE_3___default.a,width:"50%"})}).add("Square",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_lib_Magnifier_es__WEBPACK_IMPORTED_MODULE_2__.a,{src:_test_image_jpg__WEBPACK_IMPORTED_MODULE_3___default.a,mgShape:"square",width:"50%"})}).add("Hide overflow",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_lib_Magnifier_es__WEBPACK_IMPORTED_MODULE_2__.a,{src:_test_image_jpg__WEBPACK_IMPORTED_MODULE_3___default.a,mgShowOverflow:!1,mgTouchOffsetX:0,mgTouchOffsetY:0,width:"50%"})}).add("Different images",function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_lib_Magnifier_es__WEBPACK_IMPORTED_MODULE_2__.a,{src:_test_image_small_jpg__WEBPACK_IMPORTED_MODULE_4___default.a,zoomImgSrc:_test_image_jpg__WEBPACK_IMPORTED_MODULE_3___default.a,width:"50%"})})}.call(this,__webpack_require__(115)(module))},55:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(32),__webpack_require__(29),__webpack_require__(134),__webpack_require__(119),__webpack_require__(15),__webpack_require__(18),__webpack_require__(27),__webpack_require__(137),__webpack_require__(136),__webpack_require__(118),__webpack_require__(0);var react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(10),react__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__),prop_types__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(2),prop_types__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_12__),lodash_debounce__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(153),lodash_debounce__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_13__),lodash_throttle__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(94),lodash_throttle__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_14__);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _extends(){return(_extends=Object.assign||function(target){for(var source,i=1;i<arguments.length;i++)for(var key in source=arguments[i])Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key]);return target}).apply(this,arguments)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],0<=excluded.indexOf(key)||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],!(0<=excluded.indexOf(key))&&Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}!function(css,ref){void 0===ref&&(ref={});var insertAt=ref.insertAt;if(css&&"undefined"!=typeof document){var head=document.head||document.getElementsByTagName("head")[0],style=document.createElement("style");style.type="text/css","top"===insertAt&&head.firstChild?head.insertBefore(style,head.firstChild):head.appendChild(style),style.styleSheet?style.styleSheet.cssText=css:style.appendChild(document.createTextNode(css))}}(".magnifier {\n  position: relative;\n  display: inline-block;\n  line-height: 0; }\n\n.magnifier-image {\n  cursor: none; }\n\n.magnifying-glass {\n  position: absolute;\n  z-index: 1;\n  transition: opacity 0.3s;\n  background: #e5e5e5 no-repeat;\n  border: solid #ebebeb;\n  box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.3);\n  pointer-events: none;\n  opacity: 0; }\n  .magnifying-glass.circle {\n    border-radius: 50%; }\n  .magnifying-glass.visible {\n    opacity: 1; }\n");var propTypes={src:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.string.isRequired,width:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.string]),height:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number,prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.string]),className:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.string,zoomImgSrc:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.string,zoomFactor:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number,mgWidth:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number,mgHeight:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number,mgBorderWidth:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number,mgShape:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.oneOf(["circle","square"]),mgShowOverflow:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.bool,mgMouseOffsetX:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number,mgMouseOffsetY:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number,mgTouchOffsetX:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number,mgTouchOffsetY:prop_types__WEBPACK_IMPORTED_MODULE_12___default.a.number},Magnifier=function(_PureComponent){function Magnifier(props){var _this,self,call;if(function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Magnifier),self=this,_this=!(call=_getPrototypeOf(Magnifier).call(this,props))||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call,!props.src)throw Error("Missing src prop");return _this.state={showZoom:!1,mgOffsetX:0,mgOffsetY:0,relX:0,relY:0},_this.onMouseEnter=_this.onMouseEnter.bind(_assertThisInitialized(_assertThisInitialized(_this))),_this.onMouseMove=lodash_throttle__WEBPACK_IMPORTED_MODULE_14___default()(_this.onMouseMove.bind(_assertThisInitialized(_assertThisInitialized(_this))),20,{trailing:!1}),_this.onMouseOut=_this.onMouseOut.bind(_assertThisInitialized(_assertThisInitialized(_this))),_this.onTouchStart=_this.onTouchStart.bind(_assertThisInitialized(_assertThisInitialized(_this))),_this.onTouchMove=lodash_throttle__WEBPACK_IMPORTED_MODULE_14___default()(_this.onTouchMove.bind(_assertThisInitialized(_assertThisInitialized(_this))),20,{trailing:!1}),_this.onTouchEnd=_this.onTouchEnd.bind(_assertThisInitialized(_assertThisInitialized(_this))),_this.calcImgBounds=_this.calcImgBounds.bind(_assertThisInitialized(_assertThisInitialized(_this))),_this.calcImgBoundsDebounced=lodash_debounce__WEBPACK_IMPORTED_MODULE_13___default()(_this.calcImgBounds,200),_this}return function(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(Magnifier,react__WEBPACK_IMPORTED_MODULE_11__["PureComponent"]),_createClass(Magnifier,null,[{key:"enforceRelative",value:function(number){return 0>number?0:1<number?1:number}}]),_createClass(Magnifier,[{key:"componentDidMount",value:function(){this.img.addEventListener("mouseenter",this.onMouseEnter,{passive:!1}),this.img.addEventListener("mousemove",this.onMouseMove,{passive:!1}),this.img.addEventListener("mouseout",this.onMouseOut,{passive:!1}),this.img.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.img.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.img.addEventListener("touchend",this.onTouchEnd,{passive:!1}),window.addEventListener("resize",this.calcImgBoundsDebounced),window.addEventListener("scroll",this.calcImgBoundsDebounced,!0)}},{key:"componentWillUnmount",value:function(){this.img.removeEventListener("mouseenter",this.onMouseMove),this.img.removeEventListener("mousemove",this.onMouseMove),this.img.removeEventListener("mouseout",this.onMouseMove),this.img.removeEventListener("touchstart",this.onMouseMove),this.img.removeEventListener("touchmove",this.onMouseMove),this.img.removeEventListener("touchend",this.onMouseMove),window.removeEventListener("resize",this.calcImgBoundsDebounced),window.removeEventListener("scroll",this.calcImgBoundsDebounced,!0)}},{key:"onMouseEnter",value:function(){this.calcImgBounds()}},{key:"onMouseMove",value:function(e){var _this$props=this.props,mgMouseOffsetX=_this$props.mgMouseOffsetX,mgMouseOffsetY=_this$props.mgMouseOffsetY;if(this.imgBounds){var relX=(e.clientX-this.imgBounds.left)/e.target.clientWidth,relY=(e.clientY-this.imgBounds.top)/e.target.clientHeight;this.setState({showZoom:!0,relX:Magnifier.enforceRelative(relX),relY:Magnifier.enforceRelative(relY),mgOffsetX:mgMouseOffsetX,mgOffsetY:mgMouseOffsetY})}}},{key:"onMouseOut",value:function(){this.setState({showZoom:!1})}},{key:"onTouchStart",value:function(e){e.preventDefault(),this.calcImgBounds()}},{key:"onTouchMove",value:function(e){if(e.preventDefault(),this.imgBounds){var _this$props2=this.props,mgTouchOffsetX=_this$props2.mgTouchOffsetX,mgTouchOffsetY=_this$props2.mgTouchOffsetY,relX=(e.targetTouches[0].clientX-this.imgBounds.left)/e.target.clientWidth,relY=(e.targetTouches[0].clientY-this.imgBounds.top)/e.target.clientHeight;0<=relX&&0<=relY&&1>=relX&&1>=relY?this.setState({showZoom:!0,relX:Magnifier.enforceRelative(relX),relY:Magnifier.enforceRelative(relY),mgOffsetX:mgTouchOffsetX,mgOffsetY:mgTouchOffsetY}):this.setState({showZoom:!1})}}},{key:"onTouchEnd",value:function(){this.setState({showZoom:!1})}},{key:"calcImgBounds",value:function(){this.img&&(this.imgBounds=this.img.getBoundingClientRect())}},{key:"render",value:function(){var _this2=this,_this$props3=this.props,src=_this$props3.src,width=_this$props3.width,height=_this$props3.height,className=_this$props3.className,zoomImgSrc=_this$props3.zoomImgSrc,zoomFactor=_this$props3.zoomFactor,mgHeight=_this$props3.mgHeight,mgWidth=_this$props3.mgWidth,mgBorderWidth=_this$props3.mgBorderWidth,mgShape=(_this$props3.mgMouseOffsetX,_this$props3.mgMouseOffsetY,_this$props3.mgTouchOffsetX,_this$props3.mgTouchOffsetY,_this$props3.mgShape),mgShowOverflow=_this$props3.mgShowOverflow,otherProps=_objectWithoutProperties(_this$props3,["src","width","height","className","zoomImgSrc","zoomFactor","mgHeight","mgWidth","mgBorderWidth","mgMouseOffsetX","mgMouseOffsetY","mgTouchOffsetX","mgTouchOffsetY","mgShape","mgShowOverflow"]),_this$state=this.state,mgOffsetX=_this$state.mgOffsetX,mgOffsetY=_this$state.mgOffsetY,relX=_this$state.relX,relY=_this$state.relY,mgClasses="magnifying-glass";return _this$state.showZoom&&(mgClasses+=" visible"),"circle"===mgShape&&(mgClasses+=" circle"),react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div",{className:"magnifier ".concat(className),style:{width:width,height:height,overflow:mgShowOverflow?"visible":"hidden"}},react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("img",_extends({className:"magnifier-image",src:src,width:"100%",height:"100%"},otherProps,{onLoad:function(){_this2.calcImgBounds()},ref:function(e){_this2.img=e}})),this.imgBounds&&react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div",{className:mgClasses,style:{width:mgWidth,height:mgHeight,left:"calc(".concat(100*relX,"% - ").concat(mgWidth/2,"px + ").concat(mgOffsetX,"px - ").concat(mgBorderWidth,"px)"),top:"calc(".concat(100*relY,"% - ").concat(mgHeight/2,"px + ").concat(mgOffsetY,"px - ").concat(mgBorderWidth,"px)"),backgroundImage:"url(".concat(zoomImgSrc||src,")"),backgroundPosition:"calc(".concat(100*relX,"% + ").concat(mgWidth/2,"px - ").concat(relX*mgWidth,"px) calc(").concat(100*relY,"% + ").concat(mgHeight/2,"px - ").concat(relY*mgWidth,"px)"),backgroundSize:"".concat(zoomFactor*this.imgBounds.width,"% ").concat(zoomFactor*this.imgBounds.height,"%"),borderWidth:mgBorderWidth}}))}}]),Magnifier}();Magnifier.propTypes=propTypes,Magnifier.defaultProps={width:"100%",height:"auto",className:"",zoomImgSrc:null,zoomFactor:1.5,mgWidth:150,mgHeight:150,mgBorderWidth:2,mgShape:"circle",mgShowOverflow:!0,mgMouseOffsetX:0,mgMouseOffsetY:0,mgTouchOffsetX:-50,mgTouchOffsetY:-50},__webpack_exports__.a=Magnifier},56:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/test-image.fbc2db38.jpg"}},[[155,1,2]]]);
//# sourceMappingURL=main.c612d7942ee057152c88.bundle.js.map